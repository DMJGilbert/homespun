<!DOCTYPE HTML>
<html>
	<head>
		<!-- Change URLs to wherever Video.js files will be hosted -->
		<link href="video-js.css" rel="stylesheet" type="text/css">
		<!-- video.js must be in the <head> for older IEs to work. -->
		<script src="video.js"></script>
		<script type="text/javascript" src="/socket.io/socket.io.js"></script>

		<style>
			html,
			body {
				margin: 0;
				padding: 0;
				height: 100%;
				width: 100%;
			}

			.vjs-default-skin .vjs-big-play-button {
				display: none;
			}
		</style>
		<script>
			videojs.options.flash.swf = "video-js.swf";
		</script>
	</head>

	<body>

		<video id="video" class="video-js vjs-default-skin" controls="false" preload="none" width="100%" height="100%" data-setup="{&quot;techOrder&quot;: [&quot;flash&quot;]}" autoplay>
			<!-- <source src="http://video-js.zencoder.com/oceans-clip.mp4" type='video/mp4' /> -->
			<source src="/bbc/mediaselector/playlists/hls/mobile_wifi/ak/bbc1.m3u8" type="video/mp4">
		</video>

		<script>
			var ioParams = {
				'reconnection limit': 3000,
				'max reconnection attempts': Number.MAX_VALUE,
				'connect timeout': 7000
			};
			var socket = io.connect("", ioParams);

			socket.on('connect', function () {
				console.log("Connected");
				socket.emit('tv');
			});
			socket.on('reload', function (data) {
				location.reload();
			});
			socket.on('play', function (data) {
				console.log(data);
				var video = videojs("video");
				video.play(data.url);
			});
			socket.on('notification', function (data) {
				console.log(data);
			});
			socket.on('disconnect', function () {

			});
		</script>
	</body>
</html>
